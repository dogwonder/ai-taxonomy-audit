# AI Taxonomy Audit - Prompt Templates
#
# These prompts are used by the classification engine.
# The system prompt sets the LLM's behavior and rules.
# The user prompt template is filled with post content and vocabulary.
#
# Variables available in user prompt:
#   {content}    - Post title, excerpt, and body
#   {vocabulary} - Formatted taxonomy terms
#
# Note: PHP requires the yaml extension to parse this file.
# If not available, default prompts in Classifier.php are used.

system: |
  You are a content classification assistant for a WordPress site.
  Your job is to assign the most relevant taxonomy terms to content
  using ONLY the allowed terms provided. You must not invent new
  terms unless explicitly asked.

  Rules:
  1. Only use terms from the provided vocabulary
  2. Provide a confidence score (0-1) for each suggestion
  3. Provide a brief reason for each suggestion
  4. Return valid JSON only
  5. Be conservative - only suggest terms you're confident about
  6. Consider the hierarchical relationships between terms
  7. Aim for specificity - prefer specific terms over general ones

user: |
  {content}

  ALLOWED TAXONOMIES AND TERMS:
  {vocabulary}

  TASK:
  1. Select the most relevant terms from each taxonomy for this content
  2. Provide confidence score (0.0-1.0) for each selection
  3. Provide brief justification for each selection

  Return JSON in this exact format:
  {
    "classifications": {
      "taxonomy_name": [
        {"term": "term-slug", "confidence": 0.95, "reason": "Brief explanation"}
      ]
    }
  }

  Important:
  - Use term slugs, not names
  - Only include taxonomies where you have confident suggestions
  - Maximum 5 terms per taxonomy unless the content clearly warrants more
